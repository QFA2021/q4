(function(e){function t(t){for(var o,r,c=t[0],i=t[1],s=t[2],d=0,p=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);u&&u(t);while(p.length)p.shift()();return l.push.apply(l,s||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],o=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(o=!1)}o&&(l.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={app:0},l=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/q4/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=i;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"030a":function(e,t,n){"use strict";n("cc0e")},"0a3e":function(e,t,n){"use strict";n("959b")},"13e6":function(e,t,n){"use strict";n("d4c0")},2966:function(e,t,n){},"43ba":function(e,t,n){"use strict";n("2966")},4687:function(e,t,n){"use strict";n("8206")},4931:function(e,t,n){e.exports=n.p+"img/screenshot_board_4_super_color.056426e5.png"},8206:function(e,t,n){},"94bd":function(e,t,n){e.exports=n.p+"media/NeinNeinNein_large.b83a159f.webm"},9513:function(e,t,n){e.exports=n.p+"img/screenshot_board_2_super_pos_tooltip.63b52465.png"},"959b":function(e,t,n){},ac85:function(e,t,n){e.exports=n.p+"img/Title.3daac747.svg"},b809:function(e,t,n){e.exports=n.p+"img/screenshot_board_5_super_color_collapsed.b6f3fa8d.png"},c5b0:function(e,t,n){},cc0e:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a=Object(o["g"])("p",null,"There is a new version available. Do you want to restart?",-1);function l(e,t,n,l,r,c){var i=Object(o["s"])("Menu"),s=Object(o["s"])("Game"),u=Object(o["s"])("Alert");return Object(o["l"])(),Object(o["f"])(o["a"],null,[e.inMenu?(Object(o["l"])(),Object(o["d"])(i,{key:0,onStartGame:e.startGame,onBackGame:e.backGame,mayContinue:void 0!==e.state},null,8,["onStartGame","onBackGame","mayContinue"])):Object(o["e"])("",!0),e.inMenu?Object(o["e"])("",!0):(Object(o["l"])(),Object(o["d"])(s,{key:1,state:e.state,onToMenu:t[0]||(t[0]=function(t){return e.inMenu=!0})},null,8,["state"])),Object(o["g"])("footer",null,[Object(o["g"])("p",null,[Object(o["h"])(" © "+Object(o["t"])(e.copyright)+" ",1),e.stateStack.length>1&&!e.inMenu?(Object(o["l"])(),Object(o["f"])("button",{key:0,onClick:t[1]||(t[1]=function(t){return e.undo()}),"aria-label":"Undo",title:"Undo"}," ⭯ ")):Object(o["e"])("",!0)])]),Object(o["i"])(u,{title:"New Version Available",ref:"offer"},{buttons:Object(o["u"])((function(){return[Object(o["g"])("button",{onClick:t[2]||(t[2]=function(t){return e.reloadNow()})},"Reload with new version"),Object(o["g"])("button",{onClick:t[3]||(t[3]=function(t){return e.$refs.offer.showModal=!1})},"Continue")]})),default:Object(o["u"])((function(){return[a]})),_:1},512)],64)}var r=n("d4ec"),c=n("bee2"),i=n("262e"),s=n("2caf"),u=(n("a15b"),n("9ab4")),d=n("ce1f"),p=n("ac85"),b=n.n(p),f=function(e){return Object(o["o"])("data-v-7eb69e80"),e=e(),Object(o["m"])(),e},h={class:"wrapper"},v=f((function(){return Object(o["g"])("button",{"aria-label":"Close"},"×",-1)})),O={class:"content"},j=f((function(){return Object(o["g"])("img",{src:b.a,height:"111",width:"320",alt:"q4 Logo"},null,-1)})),g={key:0};function m(e,t,n,a,l,r){return Object(o["l"])(),Object(o["d"])(o["b"],{name:"modal",onAfterEnter:e.afterFadeIn,onBeforeLeave:e.beforeFadeOut},{default:Object(o["u"])((function(){return[e.showModal?(Object(o["l"])(),Object(o["f"])("div",{key:0,class:"container",onClick:t[1]||(t[1]=function(){return e.clickBackground&&e.clickBackground.apply(e,arguments)})},[Object(o["g"])("div",h,[Object(o["g"])("h2",{onClick:t[0]||(t[0]=function(t){return e.showModal=!1})},[Object(o["g"])("span",null,Object(o["t"])(e.title),1),v]),Object(o["g"])("div",O,[Object(o["r"])(e.$slots,"default",{},(function(){return[j]}),!0),e.message?(Object(o["l"])(),Object(o["f"])("p",g,Object(o["t"])(e.message),1)):Object(o["e"])("",!0),Object(o["r"])(e.$slots,"buttons",{},void 0,!0)])])])):Object(o["e"])("",!0)]})),_:3},8,["onAfterEnter","onBeforeLeave"])}var y=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"clickBackground",value:function(e){this.showDone&&e.target===e.currentTarget&&(this.showModal=!1)}},{key:"afterFadeIn",value:function(){var e=this;this.showDone=!0,this.keyboardEL=document.addEventListener("keyup",(function(t){"Escape"===t.key&&(e.showModal=!1)}))}},{key:"beforeFadeOut",value:function(){this.showDone=!1,document.removeEventListener("keyup",this.keyboardEL),this.keyboardEL=void 0}}]),n}(d["b"]);y=Object(u["a"])([Object(d["a"])({props:{title:String,message:String,shouldOpen:Boolean},data:function(){return{showModal:this.shouldOpen,showDone:!1}},watch:{shouldOpen:function(){this.showModal=this.shouldOpen}}})],y);var w=y,C=(n("0a3e"),n("d959")),k=n.n(C);const _=k()(w,[["render",m],["__scopeId","data-v-7eb69e80"]]);var M=_,x=n("94bd"),S=n.n(x),A=n("e1c5"),P=n.n(A),D=function(e){return Object(o["o"])("data-v-0722047a"),e=e(),Object(o["m"])(),e},G={class:"classicalMoves"},I=D((function(){return Object(o["g"])("strong",null,"remaining classical moves:",-1)})),B=Object(o["h"])("  "),$=Object(o["h"])(" — "),E=D((function(){return Object(o["g"])("source",{src:S.a,type:"video/webm",media:"(-webkit-min-device-pixel-ratio: 2)"},null,-1)})),q=D((function(){return Object(o["g"])("source",{src:P.a,type:"video/webm"},null,-1)})),T=[E,q],F=D((function(){return Object(o["g"])("h3",null,"Specials Game Rules",-1)})),N={key:0},R={key:1};function L(e,t,n,a,l,r){var c,i=Object(o["s"])("GameBoard"),s=Object(o["s"])("Alert"),u=Object(o["s"])("GameExplanation");return Object(o["l"])(),Object(o["f"])(o["a"],null,[Object(o["g"])("header",null,[Object(o["g"])("img",{src:b.a,height:"50",width:"144",alt:"q4 Logo",onClick:t[0]||(t[0]=function(t){return e.$emit("toMenu")}),title:"Go to menu",role:"button"}),Object(o["g"])("h1",{class:Object(o["j"])({player1:e.state.next_player})}," Next player: "+Object(o["t"])(e.getCurrentPlayerColor(e.state.next_player)),3),Object(o["g"])("button",{onClick:t[1]||(t[1]=function(t){return e.$refs.expl.open()})},"Help")]),Object(o["g"])("main",null,[Object(o["i"])(i,{state:e.state,onPlaceClassical:e.placeClassical,onPlaceSpace:e.placeSpace,onPlaceColor:e.placeColor,onManualCollapse:e.manualCollapse},null,8,["state","onPlaceClassical","onPlaceSpace","onPlaceColor","onManualCollapse"]),e.state.collapsesBeforeMove<1/0?(Object(o["l"])(),Object(o["f"])("p",{key:0,class:Object(o["j"])({outOfMoves:0===e.state.playerAllowedCollapses})}," You have performed "+Object(o["t"])(e.state.playerAllowedCollapses)+" out of "+Object(o["t"])(e.state.collapsesBeforeMove)+" allowed collapses before your move. ",3)):Object(o["e"])("",!0),Object(o["g"])("p",G,[I,B,Object(o["g"])("span",{class:Object(o["j"])({low:e.state.playerDoubleAllowedClassical[0]<=2}),style:{color:"red"}},"red: "+Object(o["t"])(e.state.playerDoubleAllowedClassical[0]/2),3),$,Object(o["g"])("span",{class:Object(o["j"])({low:e.state.playerDoubleAllowedClassical[1]<=2}),style:{color:"blue"}},"blue: "+Object(o["t"])(e.state.playerDoubleAllowedClassical[1]/2),3)])]),Object(o["i"])(s,{title:"Illegal move!",message:"That move is illegal! It cannot be completed in any of the possible world states.",ref:"modal"},{default:Object(o["u"])((function(){return[Object(o["g"])("video",{autoplay:"",preload:"",width:"320",height:"431",ref:"video",onClick:t[2]||(t[2]=function(t){return e.$refs.video.play()}),style:{cursor:"pointer"}},T,512)]})),_:1},512),Object(o["i"])(s,{title:"Game Won!",message:"Player "+e.getCurrentPlayerColor(null===(c=e.state.winner)||void 0===c?void 0:c.player1)+" has won in all possible states of the game!",shouldOpen:void 0!==e.state.winner,ref:"alertWin"},{buttons:Object(o["u"])((function(){return[Object(o["g"])("button",{onClick:t[3]||(t[3]=function(t){return e.$emit("toMenu")})},"New Game"),Object(o["g"])("button",{onClick:t[4]||(t[4]=function(t){return e.$refs.alertWin.showModal=!1})},"Continue")]})),_:1},8,["message","shouldOpen"]),Object(o["i"])(u,{ref:"expl"},{default:Object(o["u"])((function(){return[e.state.collapsingIsMove||e.state.collapsesBeforeMove<1/0?(Object(o["l"])(),Object(o["f"])(o["a"],{key:0},[F,e.state.collapsingIsMove?(Object(o["l"])(),Object(o["f"])("p",N," Collapsing a piece counts as a players move. ")):Object(o["e"])("",!0),e.state.collapsesBeforeMove<1/0?(Object(o["l"])(),Object(o["f"])("p",R," Each player is allowed to perform "+Object(o["t"])(e.state.collapsesBeforeMove)+" collapses before performing their move. ",1)):Object(o["e"])("",!0)],64)):Object(o["e"])("",!0)]})),_:1},512)],64)}var Y={class:"controls"},H=["onClick"],J=["onClick"],Q=["onClick"],W=["onClick"],U=["set"],z=["onClick","onMouseover","title"];function V(e,t,n,a,l,r){return Object(o["l"])(),Object(o["f"])("table",{class:Object(o["j"])({mayCollapse:e.state.playerAllowedCollapses>=1,player1:e.state.next_player})},[Object(o["g"])("tr",Y,[(Object(o["l"])(!0),Object(o["f"])(o["a"],null,Object(o["q"])(e.state.width,(function(n){return Object(o["l"])(),Object(o["f"])("th",{key:n},[Object(o["g"])("button",{onClick:function(t){return e.placeColor(n)},class:"color"},"Color",8,H),e.state.colorPiece?Object(o["e"])("",!0):(Object(o["l"])(),Object(o["f"])(o["a"],{key:0},[Object(o["g"])("button",{onClick:function(t){return e.placeClassical(n)},class:"classic"}," Classic ",8,J),void 0===e.preparedColumn?(Object(o["l"])(),Object(o["f"])("button",{key:0,onClick:function(t){return e.prepare(n)},class:"space"}," Space 1st ",8,Q)):e.preparedColumn!=n?(Object(o["l"])(),Object(o["f"])("button",{key:1,onClick:function(t){return e.placeSpace(n)},class:"space"}," Space 2nd ",8,W)):(Object(o["l"])(),Object(o["f"])("button",{key:2,onClick:t[0]||(t[0]=function(t){return e.preparedColumn=void 0}),class:"reset"}," Reset "))],64))])})),128))]),(Object(o["l"])(!0),Object(o["f"])(o["a"],null,Object(o["q"])(e.state.height,(function(n){return Object(o["l"])(),Object(o["f"])("tr",{key:n},[(Object(o["l"])(!0),Object(o["f"])(o["a"],null,Object(o["q"])(e.state.width,(function(a){var l;return Object(o["l"])(),Object(o["f"])("td",{key:a,set:e.col=null===(l=e.state.occupancyCache[a])||void 0===l?void 0:l[n],class:Object(o["j"])({empty:void 0===e.col})},[(Object(o["l"])(!0),Object(o["f"])(o["a"],null,Object(o["q"])(e.col,(function(l){return Object(o["l"])(),Object(o["d"])(o["b"],{key:l.id,name:"slide",appear:""},{default:Object(o["u"])((function(){var r,c,i,s,u,d,p,b,f,h;return[Object(o["g"])("div",{class:Object(o["j"])({small:!l.stable,player1:l.player1&&void 0===l.colorPieceOther||void 0!==l.colorPieceOther&&l.colorID===(null===(r=e.highlight)||void 0===r||null===(c=r.piece)||void 0===c?void 0:c.colorID)&&!(l===e.highlight.piece^e.state.next_player),color:void 0!==l.colorID&&(void 0===l.colorPieceOther||l.colorID!==(null===(i=e.highlight)||void 0===i||null===(s=i.piece)||void 0===s?void 0:s.colorID)),highlight:!l.stable&&(null===(u=e.highlightOccupancy[a])||void 0===u||null===(d=u[n])||void 0===d?void 0:d.has(l)),highlightColor:void 0!==l.colorPieceOther&&l.colorID===(null===(p=e.highlight)||void 0===p||null===(b=p.piece)||void 0===b?void 0:b.colorID),winning:null===(f=e.state.winner)||void 0===f||null===(h=f.pieces)||void 0===h?void 0:h.has(l)}),onClick:function(t){return e.collapse(a,n,l)},onMouseover:function(t){return e.highlight={column:a,row:n,piece:l}},onMouseleave:t[1]||(t[1]=function(t){return e.highlight=void 0}),title:e.getPieceActionHint(l)+e.getActionPieceDebug(l)},Object(o["t"])(l.id),43,z)]})),_:2},1024)})),128))],10,U)})),128))])})),128))],2)}n("99af");var K=n("b85c");n("4de4"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("159b");function X(e,t,n,o){if(n in t.data){var a=e;while(a>=1){if(!(a in t.data[n]))return t.data[n][a]=o,!0;a--}return!1}return t.data[n]={},t.data[n][e]=o,!0}var Z=4;function ee(e,t,n){for(var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=1;a<=t;a++){var l=te(e,t,n,1,a,1,0,o);if(void 0!==l)return l;for(var r=1;r<=e-Z+1;r++){var c=te(e,t,n,r,a,1,-1,o);if(void 0!==c)return c;var i=te(e,t,n,r,a,1,1,o);if(void 0!==i)return i}}for(var s=1;s<=e;s++){var u=te(e,t,n,s,1,0,1);if(void 0!==u)return u}}function te(e,t,n,o,a,l,r){var c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],i=0,s=void 0;while(o<=e&&a<=t){var u,d=null===(u=n.data[a])||void 0===u?void 0:u[o];if(void 0===d||void 0!==d.colorID||c&&!d.stable)i=0,s=void 0;else{var p=null===d||void 0===d?void 0:d.player1;if(p!==s)i=1,s=p;else if(++i>=Z){var b={player1:s,pieces:new Set};b.pieces.add(d);for(var f=1;f<Z;f++){var h;o-=l,a-=r,b.pieces.add(null===(h=n.data[a])||void 0===h?void 0:h[o])}return b}}o+=l,a+=r}}n("4ec9");function ne(e){return e?"Red":"Blue"}function oe(e){var t,n={},o=new Map,a=Object(K["a"])(e.worlds);try{for(a.s();!(t=a.n()).done;){var l=t.value;for(var r in l.data)for(var c in r in n||(n[r]={}),l.data[r]){c in n[r]||(n[r][c]=new Set);var i=l.data[r][c];n[r][c].add(i);var s=o.get(i);void 0===s?(o.set(i,{row:c,column:r}),i.stable=!0):s.row==c&&s.column==r||(i.stable=!1)}}}catch(u){a.e(u)}finally{a.f()}return n}function ae(e,t,n,o){var a,l={},r=Object(K["a"])(e.worlds);try{for(r.s();!(a=r.n()).done;){var c,i=a.value;if((null===(c=i.data[t])||void 0===c?void 0:c[n])===o)for(var s in i.data)for(var u in s in l||(l[s]={}),i.data[s]){u in l[s]||(l[s][u]=new Set);var d=i.data[s][u];l[s][u].add(d)}}}catch(p){r.e(p)}finally{r.f()}return l}function le(e){return{id:e.next_stone_id,player1:e.next_player,stable:!0}}function re(e){return void 0!==e.colorID}function ce(e){return void 0!==e.colorID&&void 0!==e.colorPieceOther}function ie(e,t){var n=e.next_player?0:1;return e.playerDoubleAllowedClassical[n]-=3,!!se(e,t,le(e))||(e.playerDoubleAllowedClassical[n]+=3,!1)}function se(e,t,n){var o=e.worlds.filter((function(o){return X(e.height,o,t,n)}));return 0!==o.length&&(e.worlds=o,e.next_stone_id++,e.next_player=!e.next_player,ue(e),!0)}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.occupancyCache=oe(e),void 0===e.winner&&function(){var t,n=new Set,o=new Set,a=Object(K["a"])(e.worlds);try{for(a.s();!(t=a.n()).done;){var l=t.value;void 0===l.winner&&(l.winner=ee(e.height,e.width,l)),void 0!==l.winner&&(n.add(l.winner.player1),l.winner.pieces.forEach((function(e){return o.add(e)})))}}catch(r){a.e(r)}finally{a.f()}1===n.size&&(e.winner={player1:n.values().next().value,pieces:o})}(),t)e.playerAllowedCollapses--,e.collapsingIsMove&&(e.next_player=!e.next_player);else{var n=e.next_player?1:0;e.playerDoubleAllowedClassical[n]=Math.min(e.playerDoubleAllowedClassical[n]+1,2*e.classicalMovesMaximum),e.playerAllowedCollapses=e.collapsesBeforeMove,e.playerDoubleAllowedClassical[1-n]<=1&&(e.playerDoubleAllowedClassical[1-n]+=2*e.classicalMovesStart,e.next_player=!e.next_player)}}function de(e,t){var n=le(e);if(n.colorID=e.next_color_id,n.colorPieceSecond=!1,se(e,t,n))return e.next_color_id++,n}function pe(e,t,n){var o={id:n.id,player1:n.player1,stable:n.stable,colorID:n.colorID,colorPieceSecond:!0,colorPieceOther:n};return!!se(e,t,o)&&(n.colorPieceOther=o,!0)}function be(e,t){var n,o=le(e),a=[],l=Object(K["a"])(e.worlds);try{for(l.s();!(n=l.n()).done;){var r,c=n.value,i=Object(K["a"])(t);try{for(i.s();!(r=i.n()).done;){var s=r.value,u=fe(c);X(e.height,u,s,o)&&a.push(u)}}catch(d){i.e(d)}finally{i.f()}}}catch(d){l.e(d)}finally{l.f()}return 0!==a.length&&(e.worlds=a,e.next_stone_id++,e.next_player=!e.next_player,ue(e),!0)}function fe(e){var t={data:{},winner:e.winner};for(var n in e.data)for(var o in t.data[n]={},e.data[n])t.data[n][o]=e.data[n][o];return t}function he(e,t,n,o){if(void 0===o.colorPieceOther)e.worlds=e.worlds.filter((function(e){var a;return(null===(a=e.data[t])||void 0===a?void 0:a[n])===o}));else{var a=o.colorPieceOther;o.colorID=void 0,o.colorPieceOther=void 0,o.player1=e.next_player,a.colorID=void 0,a.colorPieceOther=void 0,a.id++,a.player1=!e.next_player}ue(e,!0)}var ve=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"getPieceActionHint",value:function(e){return re(e)?ce(e)?this.state.playerAllowedCollapses>=1?"Click this to collapse it to "+ne(this.state.next_player):"You have no collapses left before your move.":"You need to choose a position for the other piece first":e.stable?"":this.state.playerAllowedCollapses>=1?"Click to collapse here":"You have no collapses left before your move."}},{key:"getActionPieceDebug",value:function(e){return""}},{key:"prepare",value:function(e){this.preparedColumn=e}},{key:"placeClassical",value:function(e){this.$emit("placeClassical",e),this.preparedColumn=void 0}},{key:"placeColor",value:function(e){this.$emit("placeColor",e),this.preparedColumn=void 0}},{key:"placeSpace",value:function(e){this.$emit("placeSpace",this.preparedColumn,e),this.preparedColumn=void 0}},{key:"collapse",value:function(e,t,n){this.state.playerAllowedCollapses<1||n.stable&&void 0===n.colorPieceOther||(this.$emit("manualCollapse",e,t,n),this.highlight=void 0)}},{key:"highlightOccupancy",get:function(){return void 0===this.highlight||this.highlight.piece.stable||void 0!==this.highlight.piece.colorID?{}:ae(this.state,this.highlight.column,this.highlight.row,this.highlight.piece)}}]),n}(d["b"]);ve=Object(u["a"])([Object(d["a"])({props:{state:Object},data:function(){return{preparedColumn:void 0,highlight:void 0}},emits:["placeClassical","placeSpace","placeColor","manualCollapse"]})],ve);var Oe=ve;n("4687");const je=k()(Oe,[["render",V],["__scopeId","data-v-b02400c2"]]);var ge=je,me=n("eec5"),ye=n.n(me),we=n("9513"),Ce=n.n(we),ke=n("f9ed"),_e=n.n(ke),Me=n("4931"),xe=n.n(Me),Se=n("b809"),Ae=n.n(Se),Pe=function(e){return Object(o["o"])("data-v-cc9f4d7c"),e=e(),Object(o["m"])(),e},De=Pe((function(){return Object(o["g"])("h3",null,"Example Gameplay",-1)})),Ge=Pe((function(){return Object(o["g"])("p",null,' First, its Blue\'s turn: Blue inserts the "1" piece at a superposition of two columns. Then, Red also inserts a space-superpositioned piece in the middle column and the leftmost nonempty column. Both pieces are now entangled: if the "1" piece is in the middle, the "2" must be either on top or in the column to the left. ',-1)})),Ie=Pe((function(){return Object(o["g"])("img",{src:ye.a},null,-1)})),Be=Pe((function(){return Object(o["g"])("p",{style:{"font-weight":"bold"}}," As in classical Connect Four, only a single classical piece can occupy a cell. ",-1)})),$e=Pe((function(){return Object(o["g"])("p",null," In order to collapse a quantum piece to a classical one, you can click on it. The yellow effect on mouse-over highlights the pieces unaffected by a collapsing the hovered piece: ",-1)})),Ee=Pe((function(){return Object(o["g"])("img",{src:Ce.a},null,-1)})),qe=Pe((function(){return Object(o["g"])("p",null," As it's Blue's turn again, Blue can decide to do exactly this in order to decide where the \"1\" piece is finally placed: ",-1)})),Te=Pe((function(){return Object(o["g"])("img",{src:_e.a},null,-1)})),Fe=Pe((function(){return Object(o["g"])("p",null," Depending on the selected game mode, this is may complete the move of player Blue. ",-1)})),Ne=Pe((function(){return Object(o["g"])("p",null,' Now, suppose that it\'s Red\'s turn. Red inserts a color-superpositioned piece in the middle column. Since the location of the "2" piece is still undecided, this color piece may end up at different positions. Again, this is indicated in the GUI by the small "3" pieces in the middle column. ',-1)})),Re=Pe((function(){return Object(o["g"])("p",null,' The big "3" piece in the column to the right is placed by the blue player. The location of this piece is well-known and constant, just its color is still uncertain. ',-1)})),Le=Pe((function(){return Object(o["g"])("img",{src:xe.a},null,-1)})),Ye=Pe((function(){return Object(o["g"])("p",null,' Since its Red\'s turn again, Red decides to collapse the color-superpositioned piece by clicking on one of the "3" pieces in the middle column. This turns them both red (but doesn\'t affect their superposition in space). The other part of the "3" piece on the right becomes a blue "4" piece: ',-1)})),He=Pe((function(){return Object(o["g"])("img",{src:Ae.a},null,-1)})),Je=Pe((function(){return Object(o["g"])("h3",{id:"about"},"About",-1)})),Qe=Pe((function(){return Object(o["g"])("p",null,[Object(o["h"])(" This game was developed as part of the "),Object(o["g"])("a",{href:"https://github.com/QFA2021",target:"blank"},'course "Quantum Computing and Quantum Games" at Ferienakadiemie 2021'),Object(o["h"])(". The source code is "),Object(o["g"])("a",{href:"https://github.com/QFA2021/q4",target:"blank"},"available on GitHub"),Object(o["h"])(". ")],-1)}));function We(e,t,n,a,l,r){var c=Object(o["s"])("Alert");return Object(o["l"])(),Object(o["d"])(c,{title:"Game Rules",message:"",ref:"alert"},{default:Object(o["u"])((function(){return[Object(o["r"])(e.$slots,"default",{},void 0,!0),De,Ge,Ie,Be,$e,Ee,qe,Te,Fe,Ne,Re,Le,Ye,He,Je,Qe]})),_:3},512)}var Ue=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"open",value:function(e){this.$refs.alert.showModal=!0,void 0!==e&&requestAnimationFrame((function(){return requestAnimationFrame((function(){return requestAnimationFrame((function(){var t;return null===(t=document.getElementById(e))||void 0===t?void 0:t.scrollIntoView()}))}))}))}}]),n}(d["b"]);Ue=Object(u["a"])([Object(d["a"])({components:{Alert:M}})],Ue);var ze=Ue;n("d12f");const Ve=k()(ze,[["render",We],["__scopeId","data-v-cc9f4d7c"]]);var Ke=Ve,Xe=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"placeClassical",value:function(e){ie(this.state,e)||(this.$refs.modal.showModal=!0)}},{key:"placeColor",value:function(e){void 0===this.state.colorPiece?(this.state.colorPiece=de(this.state,e),void 0===this.state.colorPiece&&(this.$refs.modal.showModal=!0)):pe(this.state,e,this.state.colorPiece)?this.state.colorPiece=void 0:this.$refs.modal.showModal=!0}},{key:"placeSpace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];be(this.state,t)||(this.$refs.modal.showModal=!0)}},{key:"manualCollapse",value:function(e,t,n){he(this.state,e,t,n)}},{key:"getCurrentPlayerColor",value:function(e){return ne(e)}}]),n}(d["b"]);Xe=Object(u["a"])([Object(d["a"])({props:{state:Object},data:function(){return{gameWonShowed:!1}},emits:["toMenu"],components:{Alert:M,GameBoard:ge,GameExplanation:Ke}})],Xe);var Ze=Xe;n("43ba");const et=k()(Ze,[["render",L],["__scopeId","data-v-0722047a"]]);var tt=et,nt=function(e){return Object(o["o"])("data-v-3a64c232"),e=e(),Object(o["m"])(),e},ot=nt((function(){return Object(o["g"])("h3",null,"Continue last game",-1)})),at=[ot],lt=nt((function(){return Object(o["g"])("h3",null,"Collapse as Move",-1)})),rt=nt((function(){return Object(o["g"])("span",null,"Collapsing a piece or color is your move!",-1)})),ct=[lt,rt],it=nt((function(){return Object(o["g"])("h3",null,"Single Collapse",-1)})),st=nt((function(){return Object(o["g"])("span",null,"You may perform a single collapse before making your move.",-1)})),ut=[it,st],dt=nt((function(){return Object(o["g"])("h3",null,"All Quantum",-1)})),pt=nt((function(){return Object(o["g"])("span",null,"Allows all quantum moves and arbitrarily many collapses.",-1)})),bt=[dt,pt],ft=nt((function(){return Object(o["g"])("h3",null,"Show game explanation",-1)})),ht=[ft],vt=nt((function(){return Object(o["g"])("h3",null,"About",-1)})),Ot=[vt];function jt(e,t,n,a,l,r){var c=Object(o["s"])("GameExplanation");return Object(o["l"])(),Object(o["f"])(o["a"],null,[Object(o["g"])("header",null,[Object(o["i"])(o["b"],{name:"fade",appear:""},{default:Object(o["u"])((function(){return[Object(o["g"])("img",{src:b.a,width:"577",height:"202",alt:"q4 Logo",onClick:t[0]||(t[0]=function(t){return e.$emit("backGame")}),style:Object(o["k"])({cursor:e.mayContinue?"pointer":void 0})},null,4)]})),_:1})]),Object(o["g"])("main",null,[e.mayContinue?(Object(o["l"])(),Object(o["f"])("button",{key:0,onClick:t[1]||(t[1]=function(t){return e.$emit("backGame")}),class:"resumeButton"},at)):Object(o["e"])("",!0),Object(o["g"])("button",{onClick:t[2]||(t[2]=function(t){return e.startGame(!0,1/0)})},ct),Object(o["g"])("button",{onClick:t[3]||(t[3]=function(t){return e.startGame(!1,1)})},ut),Object(o["g"])("button",{onClick:t[4]||(t[4]=function(t){return e.startGame(!1,1/0)})},bt),Object(o["g"])("div",null,[Object(o["g"])("button",{onClick:t[5]||(t[5]=function(t){return e.$refs.expl.open()})},ht),Object(o["g"])("button",{onClick:t[6]||(t[6]=function(t){return e.$refs.expl.open("about")})},Ot)])]),Object(o["i"])(c,{ref:"expl"},null,512)],64)}var gt=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"startGame",value:function(e,t){var n={width:7,height:6,collapsingIsMove:e,collapsesBeforeMove:t,classicalMovesStart:3,classicalMovesMaximum:4};this.$emit("startGame",n)}}]),n}(d["b"]);gt=Object(u["a"])([Object(d["a"])({props:{mayContinue:Boolean},emits:["startGame","backGame"],components:{GameExplanation:Ke}})],gt);var mt=gt;n("13e6");const yt=k()(mt,[["render",jt],["__scopeId","data-v-3a64c232"]]);var wt=yt,Ct=n("5530");function kt(e){return Object(Ct["a"])(Object(Ct["a"])({},e),{},{next_player:Math.random()<.5,next_stone_id:1,next_color_id:1,playerAllowedCollapses:e.collapsesBeforeMove,playerDoubleAllowedClassical:[2*e.classicalMovesStart,2*e.classicalMovesStart],worlds:[{data:{}}],occupancyCache:{}})}n("d81d"),n("a630");function _t(e){var t=Object(Ct["a"])(Object(Ct["a"])({},e),{},{worlds:e.worlds.map(Mt),winner:xt(e.winner),occupancyCache:void 0});return JSON.stringify(t)}function Mt(e){var t={};for(var n in e.data)for(var o in t[n]={},e.data[n]){var a=e.data[n][o];t[n][o]=Object(Ct["a"])(Object(Ct["a"])({},a),{},{colorPieceOther:void 0})}return{winner:xt(e.winner),data:t}}function xt(e){if(void 0!==e)return{player1:e.player1,pieces:Array.from(e.pieces)}}function St(e){var t=JSON.parse(e);null===t.collapsesBeforeMove&&(t.collapsesBeforeMove=1/0),null===t.playerAllowedCollapses&&(t.playerAllowedCollapses=1/0);var n,o=new Map,a=new Map,l=Object(K["a"])(t.worlds);try{for(l.s();!(n=l.n()).done;){var r=n.value;for(var c in r.data)for(var i in r.data[c]){var s=r.data[c][i];r.data[c][i]=At(s.colorPieceSecond?a:o,s)}var u=r;u.winner=Pt(o,r.winner)}}catch(p){l.e(p)}finally{l.f()}o.forEach((function(e){if(void 0!==e.colorID){var t=a.get(e.id);void 0!==t&&(e.colorPieceOther=t,t.colorPieceOther=e)}})),void 0!==t.colorPiece&&(t.colorPiece=o.get(t.colorPiece.id));var d=t;return d.winner=Pt(o,t.winner),d.occupancyCache=oe(d),d}function At(e,t){var n=e.get(t.id);return void 0!==n?n:(e.set(t.id,t),t)}function Pt(e,t){if(void 0!==t)return{player1:t.player1,pieces:new Set(t.pieces.map((function(t){return e.get(t.id)})))}}var Dt=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"startGame",value:function(e){this.inMenu=!1,this.state=kt(e),this.stateStack=[]}},{key:"backGame",value:function(){void 0!==this.state&&(this.inMenu=!1)}},{key:"offerReload",value:function(){this.$refs.offer.showModal=!0}},{key:"reloadNow",value:function(){location.reload()}},{key:"mounted",value:function(){this.randomCopyright()}},{key:"randomCopyright",value:function(){for(var e=this,t=["Magnus Kühn","Robert Junge","Hazem Riahi"],n=t.length-1;n>0;n--){var o=Math.floor(Math.random()*(n+1)),a=t[n];t[n]=t[o],t[o]=a}this.copyright=t.join(", ")+" "+(new Date).getFullYear(),requestAnimationFrame((function(){return setTimeout(e.randomCopyright.bind(e),1e4)}))}},{key:"undo",value:function(){this.stateStack.pop();var e=this.stateStack.pop();void 0!==e&&(this.state=St(e),this.inMenu=void 0===this.state)}}]),n}(d["b"]);Dt=Object(u["a"])([Object(d["a"])({data:function(){return{inMenu:!0,state:localStorage.lastState?St(localStorage.lastState):void 0,copyright:"",stateStack:[]}},watch:{state:{handler:function(e){if(void 0!==e){var t=_t(e);this.stateStack.push(t),localStorage.lastState=t}},deep:!0}},components:{Alert:M,Game:tt,Menu:wt}})],Dt);var Gt=Dt;n("030a");const It=k()(Gt,[["render",l]]);var Bt=It,$t=n("9483"),Et=Object(o["c"])(Bt).mount("#app");Object($t["a"])("".concat("/q4/","service-worker.js"),{updated:function(){Et.offerReload()}})},d12f:function(e,t,n){"use strict";n("c5b0")},d4c0:function(e,t,n){},e1c5:function(e,t,n){e.exports=n.p+"media/NeinNeinNein_small.5d020185.webm"},eec5:function(e,t,n){e.exports=n.p+"img/screenshot_board_1_super_pos.b5a707db.png"},f9ed:function(e,t,n){e.exports=n.p+"img/screenshot_board_3_super_pos_collapsed.6fa34b90.png"}});
//# sourceMappingURL=app.3315cb01.js.map