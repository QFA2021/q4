(function(e){function t(t){for(var o,l,c=t[0],i=t[1],s=t[2],d=0,p=[];d<c.length;d++)l=c[d],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&p.push(a[l][0]),a[l]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(o=!1)}o&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},a={app:0},r=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/q4/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=i;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},1403:function(e,t,n){},2925:function(e,t,n){"use strict";n("5d69")},"2bcf":function(e,t,n){"use strict";n("bb33")},4687:function(e,t,n){"use strict";n("8206")},4931:function(e,t,n){e.exports=n.p+"img/screenshot_board_4_super_color.056426e5.png"},"4fad":function(e,t,n){"use strict";n("6d07")},"5d69":function(e,t,n){},"6d07":function(e,t,n){},7584:function(e,t,n){},8206:function(e,t,n){},"94bd":function(e,t,n){e.exports=n.p+"media/NeinNeinNein_large.b83a159f.webm"},9513:function(e,t,n){e.exports=n.p+"img/screenshot_board_2_super_pos_tooltip.63b52465.png"},ac85:function(e,t,n){e.exports=n.p+"img/Title.3daac747.svg"},b809:function(e,t,n){e.exports=n.p+"img/screenshot_board_5_super_color_collapsed.b6f3fa8d.png"},bb33:function(e,t,n){},ca80:function(e,t,n){"use strict";n("1403")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a=Object(o["g"])("p",null,"There is a new version available. Do you want to restart?",-1);function r(e,t,n,r,l,c){var i=Object(o["r"])("Menu"),s=Object(o["r"])("Game"),u=Object(o["r"])("Alert");return Object(o["k"])(),Object(o["f"])(o["a"],null,[e.inMenu?(Object(o["k"])(),Object(o["d"])(i,{key:0,onStartGame:e.startGame,onBackGame:e.backGame},null,8,["onStartGame","onBackGame"])):Object(o["e"])("",!0),e.inMenu?Object(o["e"])("",!0):(Object(o["k"])(),Object(o["d"])(s,{key:1,state:e.state,onToMenu:t[0]||(t[0]=function(t){return e.inMenu=!0})},null,8,["state"])),Object(o["g"])("footer",null,[Object(o["g"])("p",null,[Object(o["h"])(" © "+Object(o["s"])(e.copyright)+" ",1),e.stateStack.length>1?(Object(o["k"])(),Object(o["f"])("button",{key:0,onClick:t[1]||(t[1]=function(t){return e.undo()}),"aria-label":"Undo",title:"Undo"}," ⭯ ")):Object(o["e"])("",!0)])]),Object(o["i"])(u,{title:"New Version Available",ref:"offer"},{default:Object(o["t"])((function(){return[a,Object(o["g"])("button",{onClick:t[2]||(t[2]=function(t){return e.reloadNow()})},"Reload with new version"),Object(o["g"])("button",{onClick:t[3]||(t[3]=function(t){return e.$refs.offer.showModal=!1})},"Continue")]})),_:1},512)],64)}var l=n("d4ec"),c=n("bee2"),i=n("262e"),s=n("2caf"),u=(n("a15b"),n("9ab4")),d=n("ce1f"),p=n("ac85"),f=n.n(p),b=function(e){return Object(o["n"])("data-v-02987c69"),e=e(),Object(o["l"])(),e},h={class:"wrapper"},v=b((function(){return Object(o["g"])("button",{"aria-label":"Close"},"×",-1)})),O={class:"content"},j=b((function(){return Object(o["g"])("img",{src:f.a,height:"111",width:"320",alt:"q4 Logo"},null,-1)})),g={key:0};function y(e,t,n,a,r,l){return Object(o["k"])(),Object(o["d"])(o["b"],{name:"modal",onAfterEnter:e.afterFadeIn,onBeforeLeave:e.beforeFadeOut},{default:Object(o["t"])((function(){return[e.showModal?(Object(o["k"])(),Object(o["f"])("div",{key:0,class:"container",onClick:t[1]||(t[1]=function(){return e.clickBackground&&e.clickBackground.apply(e,arguments)})},[Object(o["g"])("div",h,[Object(o["g"])("h2",{onClick:t[0]||(t[0]=function(t){return e.showModal=!1})},[Object(o["g"])("span",null,Object(o["s"])(e.title),1),v]),Object(o["g"])("div",O,[Object(o["q"])(e.$slots,"default",{},(function(){return[j]}),!0),e.message?(Object(o["k"])(),Object(o["f"])("p",g,Object(o["s"])(e.message),1)):Object(o["e"])("",!0)])])])):Object(o["e"])("",!0)]})),_:3},8,["onAfterEnter","onBeforeLeave"])}var m=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"clickBackground",value:function(e){this.showDone&&e.target===e.currentTarget&&(this.showModal=!1)}},{key:"afterFadeIn",value:function(){var e=this;this.showDone=!0,this.keyboardEL=document.addEventListener("keyup",(function(t){"Escape"===t.key&&(e.showModal=!1)}))}},{key:"beforeFadeOut",value:function(){this.showDone=!1,document.removeEventListener("keyup",this.keyboardEL),this.keyboardEL=void 0}}]),n}(d["b"]);m=Object(u["a"])([Object(d["a"])({props:{title:String,message:String,shouldOpen:Boolean},data:function(){return{showModal:this.shouldOpen,showDone:!1}},watch:{shouldOpen:function(){this.showModal=this.shouldOpen}}})],m);var w=m,k=(n("ca80"),n("d959")),C=n.n(k);const _=C()(w,[["render",y],["__scopeId","data-v-02987c69"]]);var M=_,x=n("94bd"),S=n.n(x),P=n("e1c5"),A=n.n(P),D=function(e){return Object(o["n"])("data-v-1f0af273"),e=e(),Object(o["l"])(),e},I={class:"classicalMoves"},G=D((function(){return Object(o["g"])("strong",null,"remaining classical moves:",-1)})),B=Object(o["h"])("  "),$=Object(o["h"])(" — "),E=D((function(){return Object(o["g"])("source",{src:S.a,type:"video/webm",media:"(-webkit-min-device-pixel-ratio: 2)"},null,-1)})),R=D((function(){return Object(o["g"])("source",{src:A.a,type:"video/webm"},null,-1)})),T=[E,R],N=D((function(){return Object(o["g"])("h3",null,"Specials Game Rules",-1)})),q={key:0},L={key:1};function F(e,t,n,a,r,l){var c,i=Object(o["r"])("GameBoard"),s=Object(o["r"])("Alert"),u=Object(o["r"])("GameExplanation");return Object(o["k"])(),Object(o["f"])(o["a"],null,[Object(o["g"])("header",null,[Object(o["g"])("img",{src:f.a,height:"50",width:"144",alt:"q4 Logo",onClick:t[0]||(t[0]=function(t){return e.$emit("toMenu")}),"aria-label":"Go to menu"}),Object(o["g"])("h1",{class:Object(o["j"])({player1:e.state.next_player})}," Next player: "+Object(o["s"])(e.getCurrentPlayerColor(e.state.next_player)),3),Object(o["g"])("button",{onClick:t[1]||(t[1]=function(t){return e.$refs.expl.open()})},"Help")]),Object(o["g"])("main",null,[Object(o["i"])(i,{state:e.state,onPlaceClassical:e.placeClassical,onPlaceSpace:e.placeSpace,onPlaceColor:e.placeColor,onManualCollapse:e.manualCollapse},null,8,["state","onPlaceClassical","onPlaceSpace","onPlaceColor","onManualCollapse"]),e.state.collapsesBeforeMove<1/0?(Object(o["k"])(),Object(o["f"])("p",{key:0,class:Object(o["j"])({outOfMoves:0===e.state.playerAllowedCollapses})}," You have performed "+Object(o["s"])(e.state.playerAllowedCollapses)+" out of "+Object(o["s"])(e.state.collapsesBeforeMove)+" allowed collapses before your move. ",3)):Object(o["e"])("",!0),Object(o["g"])("p",I,[G,B,Object(o["g"])("span",{class:Object(o["j"])({low:e.state.playerDoubleAllowedClassical[0]<=2}),style:{color:"red"}},"red: "+Object(o["s"])(e.state.playerDoubleAllowedClassical[0]/2),3),$,Object(o["g"])("span",{class:Object(o["j"])({low:e.state.playerDoubleAllowedClassical[1]<=2}),style:{color:"blue"}},"blue: "+Object(o["s"])(e.state.playerDoubleAllowedClassical[1]/2),3)])]),Object(o["i"])(s,{title:"Illegal move!",message:"That move is illegal! It cannot be completed in any of the possible world states.",ref:"modal"},{default:Object(o["t"])((function(){return[Object(o["g"])("video",{autoplay:"",preload:"",width:"320",height:"431",ref:"video",onClick:t[2]||(t[2]=function(t){return e.$refs.video.play()}),style:{cursor:"pointer"}},T,512)]})),_:1},512),Object(o["i"])(s,{title:"Game Won!",message:"Player "+e.getCurrentPlayerColor(null===(c=e.state.winner)||void 0===c?void 0:c.player1)+" has won in all possible states of the game!",shouldOpen:void 0!==e.state.winner},null,8,["message","shouldOpen"]),Object(o["i"])(u,{ref:"expl"},{default:Object(o["t"])((function(){return[e.state.collapsingIsMove||e.state.collapsesBeforeMove<1/0?(Object(o["k"])(),Object(o["f"])(o["a"],{key:0},[N,e.state.collapsingIsMove?(Object(o["k"])(),Object(o["f"])("p",q," Collapsing a piece counts as a players move. ")):Object(o["e"])("",!0),e.state.collapsesBeforeMove<1/0?(Object(o["k"])(),Object(o["f"])("p",L," Each player is allowed to perform "+Object(o["s"])(e.state.collapsesBeforeMove)+" collapses before performing their move. ",1)):Object(o["e"])("",!0)],64)):Object(o["e"])("",!0)]})),_:1},512)],64)}var Y={class:"controls"},J=["onClick"],H=["onClick"],U=["onClick"],z=["onClick"],W=["set"],K=["onClick","onMouseover","title"];function Q(e,t,n,a,r,l){return Object(o["k"])(),Object(o["f"])("table",{class:Object(o["j"])({mayCollapse:e.state.playerAllowedCollapses>=1,player1:e.state.next_player})},[Object(o["g"])("tr",Y,[(Object(o["k"])(!0),Object(o["f"])(o["a"],null,Object(o["p"])(e.state.width,(function(n){return Object(o["k"])(),Object(o["f"])("th",{key:n},[Object(o["g"])("button",{onClick:function(t){return e.placeColor(n)},class:"color"},"Color",8,J),e.state.colorPiece?Object(o["e"])("",!0):(Object(o["k"])(),Object(o["f"])(o["a"],{key:0},[Object(o["g"])("button",{onClick:function(t){return e.placeClassical(n)},class:"classic"}," Classic ",8,H),void 0===e.preparedColumn?(Object(o["k"])(),Object(o["f"])("button",{key:0,onClick:function(t){return e.prepare(n)},class:"space"}," Space 1st ",8,U)):e.preparedColumn!=n?(Object(o["k"])(),Object(o["f"])("button",{key:1,onClick:function(t){return e.placeSpace(n)},class:"space"}," Space 2nd ",8,z)):(Object(o["k"])(),Object(o["f"])("button",{key:2,onClick:t[0]||(t[0]=function(t){return e.preparedColumn=void 0}),class:"reset"}," Reset "))],64))])})),128))]),(Object(o["k"])(!0),Object(o["f"])(o["a"],null,Object(o["p"])(e.state.height,(function(n){return Object(o["k"])(),Object(o["f"])("tr",{key:n},[(Object(o["k"])(!0),Object(o["f"])(o["a"],null,Object(o["p"])(e.state.width,(function(a){var r;return Object(o["k"])(),Object(o["f"])("td",{key:a,set:e.col=null===(r=e.state.occupancyCache[a])||void 0===r?void 0:r[n],class:Object(o["j"])({empty:void 0===e.col})},[(Object(o["k"])(!0),Object(o["f"])(o["a"],null,Object(o["p"])(e.col,(function(r){return Object(o["k"])(),Object(o["d"])(o["b"],{key:r.id,name:"slide",appear:""},{default:Object(o["t"])((function(){var l,c,i,s,u,d,p,f,b,h;return[Object(o["g"])("div",{class:Object(o["j"])({small:!r.stable,player1:r.player1&&void 0===r.colorPieceOther||void 0!==r.colorPieceOther&&r.colorID===(null===(l=e.highlight)||void 0===l||null===(c=l.piece)||void 0===c?void 0:c.colorID)&&!(r===e.highlight.piece^e.state.next_player),color:void 0!==r.colorID&&(void 0===r.colorPieceOther||r.colorID!==(null===(i=e.highlight)||void 0===i||null===(s=i.piece)||void 0===s?void 0:s.colorID)),highlight:!r.stable&&(null===(u=e.highlightOccupancy[a])||void 0===u||null===(d=u[n])||void 0===d?void 0:d.has(r)),highlightColor:void 0!==r.colorPieceOther&&r.colorID===(null===(p=e.highlight)||void 0===p||null===(f=p.piece)||void 0===f?void 0:f.colorID),winning:null===(b=e.state.winner)||void 0===b||null===(h=b.pieces)||void 0===h?void 0:h.has(r)}),onClick:function(t){return e.collapse(a,n,r)},onMouseover:function(t){return e.highlight={column:a,row:n,piece:r}},onMouseleave:t[1]||(t[1]=function(t){return e.highlight=void 0}),title:e.getPieceActionHint(r)+e.getActionPieceDebug(r)},Object(o["s"])(r.id),43,K)]})),_:2},1024)})),128))],10,W)})),128))])})),128))],2)}n("99af");var V=n("b85c");n("4de4"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("159b");function X(e,t,n,o){if(n in t.data){var a=e;while(a>=1){if(!(a in t.data[n]))return t.data[n][a]=o,!0;a--}return!1}return t.data[n]={},t.data[n][e]=o,!0}var Z=4;function ee(e,t,n){for(var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=1;a<=t;a++){var r=te(e,t,n,1,a,1,0,o);if(void 0!==r)return r;for(var l=1;l<=e-Z;l++){var c=te(e,t,n,l,a,1,-1,o);if(void 0!==c)return c;var i=te(e,t,n,l,a,1,1,o);if(void 0!==i)return i}}for(var s=1;s<=e;s++){var u=te(e,t,n,s,1,0,1);if(void 0!==u)return u}}function te(e,t,n,o,a,r,l){var c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],i=0,s=void 0;while(o<=e&&a<=t){var u,d=null===(u=n.data[a])||void 0===u?void 0:u[o];if(void 0===d||void 0!==d.colorID||c&&!d.stable)i=0,s=void 0;else{var p=null===d||void 0===d?void 0:d.player1;if(p!==s)i=1,s=p;else if(++i>=Z){var f={player1:s,pieces:new Set};f.pieces.add(d);for(var b=1;b<Z;b++){var h;o-=r,a-=l,f.pieces.add(null===(h=n.data[a])||void 0===h?void 0:h[o])}return f}}o+=r,a+=l}}n("4ec9");function ne(e){return e?"Red":"Blue"}function oe(e){var t,n={},o=new Map,a=Object(V["a"])(e.worlds);try{for(a.s();!(t=a.n()).done;){var r=t.value;for(var l in r.data)for(var c in l in n||(n[l]={}),r.data[l]){c in n[l]||(n[l][c]=new Set);var i=r.data[l][c];n[l][c].add(i);var s=o.get(i);void 0===s?(o.set(i,{row:c,column:l}),i.stable=!0):s.row==c&&s.column==l||(i.stable=!1)}}}catch(u){a.e(u)}finally{a.f()}return n}function ae(e,t,n,o){var a,r={},l=Object(V["a"])(e.worlds);try{for(l.s();!(a=l.n()).done;){var c,i=a.value;if((null===(c=i.data[t])||void 0===c?void 0:c[n])===o)for(var s in i.data)for(var u in s in r||(r[s]={}),i.data[s]){u in r[s]||(r[s][u]=new Set);var d=i.data[s][u];r[s][u].add(d)}}}catch(p){l.e(p)}finally{l.f()}return r}function re(e){return{id:e.next_stone_id,player1:e.next_player,stable:!0}}function le(e){return void 0!==e.colorID}function ce(e){return void 0!==e.colorID&&void 0!==e.colorPieceOther}function ie(e,t){var n=e.next_player?0:1;return e.playerDoubleAllowedClassical[n]-=3,!!se(e,t,re(e))||(e.playerDoubleAllowedClassical[n]+=3,!1)}function se(e,t,n){var o=e.worlds.filter((function(o){return X(e.height,o,t,n)}));return 0!==o.length&&(e.worlds=o,e.next_stone_id++,e.next_player=!e.next_player,ue(e),!0)}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.occupancyCache=oe(e),void 0===e.winner&&function(){var t,n=new Set,o=new Set,a=Object(V["a"])(e.worlds);try{for(a.s();!(t=a.n()).done;){var r=t.value;void 0===r.winner&&(r.winner=ee(e.height,e.width,r)),void 0!==r.winner&&(n.add(r.winner.player1),r.winner.pieces.forEach((function(e){return o.add(e)})))}}catch(l){a.e(l)}finally{a.f()}1===n.size&&(e.winner={player1:n.values().next().value,pieces:o})}(),t)e.playerAllowedCollapses--,e.collapsingIsMove&&(e.next_player=!e.next_player);else{var n=e.next_player?1:0;e.playerDoubleAllowedClassical[n]=Math.min(e.playerDoubleAllowedClassical[n]+1,2*e.classicalMovesMaximum),e.playerAllowedCollapses=e.collapsesBeforeMove,e.playerDoubleAllowedClassical[1-n]<=1&&(e.playerDoubleAllowedClassical[1-n]+=2*e.classicalMovesStart,e.next_player=!e.next_player)}}function de(e,t){var n=re(e);if(n.colorID=e.next_color_id,n.colorPieceSecond=!1,se(e,t,n))return e.next_color_id++,n}function pe(e,t,n){var o={id:n.id,player1:n.player1,stable:n.stable,colorID:n.colorID,colorPieceSecond:!0,colorPieceOther:n};return!!se(e,t,o)&&(n.colorPieceOther=o,!0)}function fe(e,t){var n,o=re(e),a=[],r=Object(V["a"])(e.worlds);try{for(r.s();!(n=r.n()).done;){var l,c=n.value,i=Object(V["a"])(t);try{for(i.s();!(l=i.n()).done;){var s=l.value,u=be(c);X(e.height,u,s,o)&&a.push(u)}}catch(d){i.e(d)}finally{i.f()}}}catch(d){r.e(d)}finally{r.f()}return 0!==a.length&&(e.worlds=a,e.next_stone_id++,e.next_player=!e.next_player,ue(e),!0)}function be(e){var t={data:{},winner:e.winner};for(var n in e.data)for(var o in t.data[n]={},e.data[n])t.data[n][o]=e.data[n][o];return t}function he(e,t,n,o){if(void 0===o.colorPieceOther)e.worlds=e.worlds.filter((function(e){var a;return(null===(a=e.data[t])||void 0===a?void 0:a[n])===o}));else{var a=o.colorPieceOther;o.colorID=void 0,o.colorPieceOther=void 0,o.player1=e.next_player,a.colorID=void 0,a.colorPieceOther=void 0,a.id++,a.player1=!e.next_player}ue(e,!0)}var ve=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"getPieceActionHint",value:function(e){return le(e)?ce(e)?this.state.playerAllowedCollapses>=1?"Click this to collapse it to "+ne(this.state.next_player):"You have no collapses left before your move.":"You need to choose a position for the other piece first":e.stable?"":this.state.playerAllowedCollapses>=1?"Click to collapse here":"You have no collapses left before your move."}},{key:"getActionPieceDebug",value:function(e){return""}},{key:"prepare",value:function(e){this.preparedColumn=e}},{key:"placeClassical",value:function(e){this.$emit("placeClassical",e),this.preparedColumn=void 0}},{key:"placeColor",value:function(e){this.$emit("placeColor",e),this.preparedColumn=void 0}},{key:"placeSpace",value:function(e){this.$emit("placeSpace",this.preparedColumn,e),this.preparedColumn=void 0}},{key:"collapse",value:function(e,t,n){this.state.playerAllowedCollapses<1||n.stable&&void 0===n.colorPieceOther||(this.$emit("manualCollapse",e,t,n),this.highlight=void 0)}},{key:"highlightOccupancy",get:function(){return void 0===this.highlight||this.highlight.piece.stable||void 0!==this.highlight.piece.colorID?{}:ae(this.state,this.highlight.column,this.highlight.row,this.highlight.piece)}}]),n}(d["b"]);ve=Object(u["a"])([Object(d["a"])({props:{state:Object},data:function(){return{preparedColumn:void 0,highlight:void 0}},emits:["placeClassical","placeSpace","placeColor","manualCollapse"]})],ve);var Oe=ve;n("4687");const je=C()(Oe,[["render",Q],["__scopeId","data-v-b02400c2"]]);var ge=je,ye=n("eec5"),me=n.n(ye),we=n("9513"),ke=n.n(we),Ce=n("f9ed"),_e=n.n(Ce),Me=n("4931"),xe=n.n(Me),Se=n("b809"),Pe=n.n(Se),Ae=function(e){return Object(o["n"])("data-v-0d3bf39c"),e=e(),Object(o["l"])(),e},De=Ae((function(){return Object(o["g"])("h3",null,"Example Gameplay",-1)})),Ie=Ae((function(){return Object(o["g"])("p",null,' First, its Blue\'s turn: Blue inserts the "1" piece at a superposition of two columns. Then, Red also inserts a space-superpositioned piece in the middle column and the leftmost nonempty column. Both pieces are now entangled: if the "1" piece is in the middle, the "2" must be either on top or in the column to the left. ',-1)})),Ge=Ae((function(){return Object(o["g"])("img",{src:me.a},null,-1)})),Be=Ae((function(){return Object(o["g"])("p",{style:{"font-weight":"bold"}}," As in classical Connect Four, only a single classical piece can occupy a cell. ",-1)})),$e=Ae((function(){return Object(o["g"])("p",null," In order to collapse a quantum piece to a classical one, you can click on it. The yellow effect on mouse-over highlights the pieces unaffected by a collapsing the hovered piece: ",-1)})),Ee=Ae((function(){return Object(o["g"])("img",{src:ke.a},null,-1)})),Re=Ae((function(){return Object(o["g"])("p",null," As it's Blue's turn again, Blue can decide to do exactly this in order to decide where the \"1\" piece is finally placed: ",-1)})),Te=Ae((function(){return Object(o["g"])("img",{src:_e.a},null,-1)})),Ne=Ae((function(){return Object(o["g"])("p",null," Depending on the selected game mode, this is may complete the move of player Blue. ",-1)})),qe=Ae((function(){return Object(o["g"])("p",null,' Now, suppose that it\'s Red\'s turn. Red inserts a color-superpositioned piece in the middle column. Since the location of the "2" piece is still undecided, this color piece may end up at different positions. Again, this is indicated in the GUI by the small "3" pieces in the middle column. ',-1)})),Le=Ae((function(){return Object(o["g"])("p",null,' The big "3" piece in the column to the right is placed by the blue player. The location of this piece is well-known and constant, just its color is still uncertain. ',-1)})),Fe=Ae((function(){return Object(o["g"])("img",{src:xe.a},null,-1)})),Ye=Ae((function(){return Object(o["g"])("p",null,' Since its Red\'s turn again, Red decides to collapse the color-superpositioned piece by clicking on one of the "3" pieces in the middle column. This turns them both red (but doesn\'t affect their superposition in space). The other part of the "3" piece on the right becomes a blue "4" piece: ',-1)})),Je=Ae((function(){return Object(o["g"])("img",{src:Pe.a},null,-1)}));function He(e,t,n,a,r,l){var c=Object(o["r"])("Alert");return Object(o["k"])(),Object(o["d"])(c,{title:"Game Rules",message:"",ref:"alert"},{default:Object(o["t"])((function(){return[Object(o["q"])(e.$slots,"default",{},void 0,!0),De,Ie,Ge,Be,$e,Ee,Re,Te,Ne,qe,Le,Fe,Ye,Je]})),_:3},512)}var Ue=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"open",value:function(){this.$refs.alert.showModal=!0}}]),n}(d["b"]);Ue=Object(u["a"])([Object(d["a"])({components:{Alert:M}})],Ue);var ze=Ue;n("f9e0");const We=C()(ze,[["render",He],["__scopeId","data-v-0d3bf39c"]]);var Ke=We,Qe=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"placeClassical",value:function(e){ie(this.state,e)||(this.$refs.modal.showModal=!0)}},{key:"placeColor",value:function(e){void 0===this.state.colorPiece?(this.state.colorPiece=de(this.state,e),void 0===this.state.colorPiece&&(this.$refs.modal.showModal=!0)):pe(this.state,e,this.state.colorPiece)?this.state.colorPiece=void 0:this.$refs.modal.showModal=!0}},{key:"placeSpace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];fe(this.state,t)||(this.$refs.modal.showModal=!0)}},{key:"manualCollapse",value:function(e,t,n){he(this.state,e,t,n)}},{key:"getCurrentPlayerColor",value:function(e){return ne(e)}}]),n}(d["b"]);Qe=Object(u["a"])([Object(d["a"])({props:{state:Object},data:function(){return{gameWonShowed:!1}},emits:["toMenu"],components:{Alert:M,GameBoard:ge,GameExplanation:Ke}})],Qe);var Ve=Qe;n("4fad");const Xe=C()(Ve,[["render",F],["__scopeId","data-v-1f0af273"]]);var Ze=Xe,et=function(e){return Object(o["n"])("data-v-170a0176"),e=e(),Object(o["l"])(),e},tt=et((function(){return Object(o["g"])("h3",null,"Collapse as Move",-1)})),nt=et((function(){return Object(o["g"])("span",null,"Collapsing a piece or color is your move!",-1)})),ot=[tt,nt],at=et((function(){return Object(o["g"])("h3",null,"Single Collapse",-1)})),rt=et((function(){return Object(o["g"])("span",null,"You may perform a single collapse before making your move.",-1)})),lt=[at,rt],ct=et((function(){return Object(o["g"])("h3",null,"All Quantum",-1)})),it=et((function(){return Object(o["g"])("span",null,"Allows all quantum moves and arbitrarily many collapses.",-1)})),st=[ct,it],ut=et((function(){return Object(o["g"])("h3",null,"Show game explanation",-1)})),dt=[ut];function pt(e,t,n,a,r,l){var c=Object(o["r"])("GameExplanation");return Object(o["k"])(),Object(o["f"])(o["a"],null,[Object(o["g"])("header",null,[Object(o["i"])(o["b"],{name:"fade",appear:""},{default:Object(o["t"])((function(){return[Object(o["g"])("img",{src:f.a,width:"577",alt:"q4 Logo",onClick:t[0]||(t[0]=function(t){return e.$emit("backGame")})})]})),_:1})]),Object(o["g"])("main",null,[Object(o["g"])("button",{onClick:t[1]||(t[1]=function(t){return e.startGame(!0,1/0)})},ot),Object(o["g"])("button",{onClick:t[2]||(t[2]=function(t){return e.startGame(!1,1)})},lt),Object(o["g"])("button",{onClick:t[3]||(t[3]=function(t){return e.startGame(!1,1/0)})},st),Object(o["g"])("button",{onClick:t[4]||(t[4]=function(t){return e.$refs.expl.open()})},dt)]),Object(o["i"])(c,{ref:"expl"},null,512)],64)}var ft=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"startGame",value:function(e,t){var n={width:7,height:6,collapsingIsMove:e,collapsesBeforeMove:t,classicalMovesStart:3,classicalMovesMaximum:4};this.$emit("startGame",n)}}]),n}(d["b"]);ft=Object(u["a"])([Object(d["a"])({emits:["startGame","backGame"],components:{GameExplanation:Ke}})],ft);var bt=ft;n("2925");const ht=C()(bt,[["render",pt],["__scopeId","data-v-170a0176"]]);var vt=ht,Ot=n("5530");function jt(e){return Object(Ot["a"])(Object(Ot["a"])({},e),{},{next_player:Math.random()<.5,next_stone_id:1,next_color_id:1,playerAllowedCollapses:e.collapsesBeforeMove,playerDoubleAllowedClassical:[2*e.classicalMovesStart,2*e.classicalMovesStart],worlds:[{data:{}}],occupancyCache:{}})}n("d81d"),n("a630");function gt(e){var t=Object(Ot["a"])(Object(Ot["a"])({},e),{},{worlds:e.worlds.map(yt),winner:mt(e.winner),occupancyCache:void 0});return JSON.stringify(t)}function yt(e){var t={};for(var n in e.data)for(var o in t[n]={},e.data[n]){var a=e.data[n][o];t[n][o]=Object(Ot["a"])(Object(Ot["a"])({},a),{},{colorPieceOther:void 0})}return{winner:mt(e.winner),data:t}}function mt(e){if(void 0!==e)return{player1:e.player1,pieces:Array.from(e.pieces)}}function wt(e){var t=JSON.parse(e);null===t.collapsesBeforeMove&&(t.collapsesBeforeMove=1/0),null===t.playerAllowedCollapses&&(t.playerAllowedCollapses=1/0);var n,o=new Map,a=new Map,r=Object(V["a"])(t.worlds);try{for(r.s();!(n=r.n()).done;){var l=n.value;for(var c in l.data)for(var i in l.data[c]){var s=l.data[c][i];l.data[c][i]=kt(s.colorPieceSecond?a:o,s)}var u=l;u.winner=Ct(o,l.winner)}}catch(p){r.e(p)}finally{r.f()}o.forEach((function(e){if(void 0!==e.colorID){var t=a.get(e.id);void 0!==t&&(e.colorPieceOther=t,t.colorPieceOther=e)}})),void 0!==t.colorPiece&&(t.colorPiece=o.get(t.colorPiece.id));var d=t;return d.winner=Ct(o,t.winner),d.occupancyCache=oe(d),d}function kt(e,t){var n=e.get(t.id);return void 0!==n?n:(e.set(t.id,t),t)}function Ct(e,t){if(void 0!==t)return{player1:t.player1,pieces:new Set(t.pieces.map((function(t){return e.get(t.id)})))}}var _t=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"startGame",value:function(e){this.inMenu=!1,this.state=jt(e),this.stateStack=[]}},{key:"backGame",value:function(){void 0!==this.state&&(this.inMenu=!1)}},{key:"offerReload",value:function(){this.$refs.offer.showModal=!0}},{key:"reloadNow",value:function(){location.reload()}},{key:"mounted",value:function(){this.randomCopyright()}},{key:"randomCopyright",value:function(){for(var e=this,t=["Magnus Kühn","Robert Junge","Hazem Riahi"],n=t.length-1;n>0;n--){var o=Math.floor(Math.random()*(n+1)),a=t[n];t[n]=t[o],t[o]=a}this.copyright=t.join(", ")+" "+(new Date).getFullYear(),requestAnimationFrame((function(){return setTimeout(e.randomCopyright.bind(e),1e4)}))}},{key:"undo",value:function(){this.stateStack.pop();var e=this.stateStack.pop();void 0!==e&&(this.state=wt(e),this.inMenu=void 0===this.state)}}]),n}(d["b"]);_t=Object(u["a"])([Object(d["a"])({data:function(){var e=localStorage.lastState?wt(localStorage.lastState):void 0;return{inMenu:void 0===e,state:e,copyright:"",stateStack:[]}},watch:{state:{handler:function(e){if(void 0!==e){var t=gt(e);this.stateStack.push(t),localStorage.lastState=t}},deep:!0}},components:{Alert:M,Game:Ze,Menu:vt}})],_t);var Mt=_t;n("2bcf");const xt=C()(Mt,[["render",r]]);var St=xt,Pt=n("9483"),At=Object(o["c"])(St).mount("#app");Object(Pt["a"])("".concat("/q4/","service-worker.js"),{updated:function(){At.offerReload()}})},e1c5:function(e,t,n){e.exports=n.p+"media/NeinNeinNein_small.5d020185.webm"},eec5:function(e,t,n){e.exports=n.p+"img/screenshot_board_1_super_pos.b5a707db.png"},f9e0:function(e,t,n){"use strict";n("7584")},f9ed:function(e,t,n){e.exports=n.p+"img/screenshot_board_3_super_pos_collapsed.6fa34b90.png"}});
//# sourceMappingURL=app.44606150.js.map